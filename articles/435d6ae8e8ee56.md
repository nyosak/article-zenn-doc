---
title: "Activity, Fragment, RecyclerView ã«ã¤ã„ã¦ã€ã¨ã‚Šã‚ãˆãšãƒ¡ãƒ¢"
topics: ["Android", "Activity", "Fragment", "RecyclerView"]
type: "tech"
emoji: "ğŸš"
published: true
---
# Activity, Fragment, RecyclerView

ã«ã¤ã„ã¦ã€ã¨ã‚Šã‚ãˆãšãƒ¡ãƒ¢

---

# ğŸŒ’ï¸ åº

Android app ä½œã‚‹ tutorial ã¨ã‹è¦‹ã‚‹ã¨ã€ã¾ãšã¯ã€2ã¤ç¨‹åº¦ã® activity ã‚’ç”¨æ„ã—ã¦ã€ãã®é–“ã§ç”»é¢é·ç§»ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒå‡ºã¦ãã‚‹ã€‚ã§ã‚‚ã“ã‚Œã€å‰²ã¨éå»ã®éºç‰©ã‚‰ã—ã„ã€‚ä»Šï¼ˆã¨ã„ã£ã¦ã‚‚ã‚‚ã†6å¹´ã»ã©å‰ã‹ã‚‰ï¼‰ã¯ single activity ã¨ã‹è¨€ã£ã¦ã€activity ã‚’ãŸãã•ã‚“ä½œã‚‰ãªã„ã‚ˆã†ã«ã—ã‚ˆã†ã‚ˆã€ã£ã¦æµã‚ŒãŒã§ãã¦ã„ã‚‹ã¿ãŸã„ã€‚

ãªã‚“ã§ï¼Ÿã£ã¦ã„ã†ã¨ã€åˆå¿ƒè€…ãŒæœ€åˆã«èº“ãã®ãŒã€ activity é–“ã‚’çµã³ã¤ã‘ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã®ãŒé›£ã—ã„ã‹ã‚‰ã€‚å®Ÿéš›ã“ã‚Œã¯ã‹ãªã‚Šç¶±æ¸¡ã‚Šãªã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã€‚

1. Android app ã«ã¯ main() ã¿ãŸã„ãªå”¯ä¸€ã®èµ·å‹•ãƒã‚¤ãƒ³ãƒˆãŒç„¡ãã€ã©ã® activity ã‹ã‚‰èµ·å‹•ã—ã¦ã‚‚è‰¯ã„
2. OS ã¯ã€ãƒ¡ãƒ¢ãƒªé€¼è¿«ãªã©ã®å¿…è¦ã«å¿œã˜ã¦ã„ã¤ã§ã‚‚ã€ä»»æ„ã® activity ã‚’æ¶ˆã›ã‚‹
3. ã—ãŸãŒã£ã¦ç”»é¢ã‚’å‘¼ã³å‡ºã—ãŸã¨ãã€æ—¢å­˜ã®ã‚‚ã®ã‚’å†åˆ©ç”¨ã™ã‚‹å ´åˆã¨æ–°è¦èµ·å‹•ã™ã‚‹å ´åˆã¨ãŒã‚ã‚‹

ã“ã®ã‚ãŸã‚Šã®ä»•æ§˜ã«ã‚ˆã‚Šã€activity ã® instance ã‚’ã©ã“ã‹ã§é™çš„ã«ä¿æŒã™ã‚‹ã“ã¨ãŒã§ããšã€this æ¸¡ã—ã¦ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã›ã‚Œã°ã„ã„ã˜ã‚ƒã‚“ã€ã¿ãŸã„ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¨ IDE ã«æ€’ã‚‰ã‚Œã‚‹ã€‚

ã©ã†ã‚„ã‚‰ç§ãŒåˆå¿ƒè€…ã ã‹ã‚‰é›£ã—ã„ã¨æ€ã£ã¦ã„ãŸã®ã§ã¯ãªãã€ã¿ã‚“ãªãŒé›£ã—ã„ã¨æ€ã£ã¦ã„ãŸã¿ãŸã„ã§ã€æµã‚ŒãŒ single activity ã¨ã‹ navigation ã¨ã‹ã„ã†æ–¹å‘ã«è¡Œã£ã¦ã„ã‚‹ã‚ˆã†ã ã€‚ã§ã‚‚ãã†ã„ã†æ–°ã—ã„æµã‚Œã«æ²¿ã£ãŸã‚³ãƒ¼ãƒ‰ãŒ tutorial ã¨ã‹åˆå¿ƒè€…å‘ã‘ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¯å‡ºã¦ã“ãªã„ã®ãŒå£ã«ãªã£ã¦ã„ã‚‹ã€‚

---

# ğŸŒ•ï¸ ç ´

## ä¼çµ±çš„ãª multi activity

ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã ã„ãŸã„ã“ã‚Œã€‚

ç°¡å˜ã«è¦‹ãˆã‚‹ã‘ã©ã€ Activity é–“ã®ã‚„ã‚Šã¨ã‚ŠãŒå‰²ã¨ãƒãƒã‚Šã©ã“ã‚ã€‚

```mermaid
%%{init:
	{
		"theme": "forest",
		"logLevel": 2,
		"flowchart": { "curve": "linear" }
	}
}%%

flowchart TB

	Application
	MainActivity <--> SecondActivity

subgraph Application
	direction TB
	MainActivity
	SecondActivity
end

linkStyle default color:#936, stroke:#f69, stroke-width:2px;
classDef default fill:#fcc, stroke:#345, stroke-width:3px, font-size:14pt;

```

## navigation ã«ä»»ã›ã‚‹

Application ã¨ Activity ã®é–“ã«ã€Navigation ã¨ã„ã†å±¤ã‚’å…¥ã‚Œã¦ã€ãã“ã«é€£æºã‚’ä»»ã›ã‚‹æ–¹æ³•ã€‚Interface ã¨ã‹ Kotlin Object ã¨ã‹ã‚’çµŒç”±ã™ã‚‹ã¨é€£æºã§ãã‚‹ã£ã¦ã„ã†è§£æ±ºç­–ã‚’ Framework ã¨ã—ã¦æä¾›ã—ã¦ããŸæ„Ÿã˜ã‹ã€‚

```mermaid
%%{init:
	{
		"theme": "forest",
		"logLevel": 2,
		"flowchart": { "curve": "linear" }
	}
}%%

flowchart TB

	Application
	Navigation
	Controller <--> MainActivity
	Controller <--> SecondActivity

subgraph Application
	subgraph Navigation
		Controller
		MainActivity
		SecondActivity
	end
end

linkStyle default color:#936, stroke:#f69, stroke-width:2px;
classDef default fill:#fcc, stroke:#345, stroke-width:3px, font-size:14pt;

```

## single activity ãªã‚‰é€£æºãŒç™ºç”Ÿã—ãªã„?

è¤‡æ•°ä½œã‚‹ã‹ã‚‰é€£æºãŒé›£ã—ã„ã‚“ã ã€‚ã€‚ã€‚ã¨ã„ã†ã€ãã‚‚ãã‚‚ãªç™ºæƒ³è»¢æ›ã€‚ç”»é¢ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã®ã§ã¯ãªãã€Factory ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ä¸­èº«ã‚’å…¥ã‚Œæ›¿ãˆã¦ã„ãã€‚

### RecyclerView ã§ list ã® item è¡¨ç¤ºã® view ã‚’å‹•çš„ã«ä½œã‚‹

```mermaid
%%{init:
	{
		"theme": "forest",
		"logLevel": 2,
		"flowchart": { "curve": "linear" }
	}
}%%

flowchart TB

	Application
	MainActivity
	RecyclerView <--> Adapter
	RecyclerView --> recycler_list_view
	List[(List)]
	Item[(Item)]
	List --> Adapter
	List -- position --> Item
	Item -- bind --> ViewHolder
	activity_main_view
	holder_item_view --> recycler_list_view
	ViewHolder --> holder_item_view

subgraph Application
	direction TB
	MainActivity
	List
end

subgraph MainActivity
	activity_main_view
	RecyclerView
	Adapter
end

subgraph Adapter
  Item
	ViewHolder
	holder_item_view
end

subgraph activity_main_view
	recycler_list_view
end

linkStyle default color:#936, stroke:#f69, stroke-width:2px;
classDef default fill:#fcc, stroke:#345, stroke-width:3px, font-size:14pt;

classDef view fill:#9ba, color:#306, font-size:14pt, stroke-width:4px;
class activity_main_view,recycler_list_view,holder_item_view view

classDef data fill:#ec3, color:#33a, font-size:12pt;
class List,Item data

```

### Fragment ã§ã€ç”»é¢ã‚’å…¥ã‚Œæ›¿ãˆã‚‹

ä¸€è¦§ç”»é¢ã§ List ã®ã©ã‚Œã‹ã‚’ã‚¿ãƒƒãƒ—ã—ãŸã¨ãã« Item ã®è©³ç´°ç”»é¢ã‚’å‡ºã™ã€ã¨ã‹ã‚’å…¸å‹çš„ãªã‚µãƒ³ãƒ—ãƒ«ã ã¨2ã¤ã® Activity ã‚’ä½¿ã†ã€‚ã“ã‚Œã‚’1ã¤ã® Activity ã§å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã€ä¸€è¦§ç”»é¢ã¨è©³ç´°ç”»é¢ã‚’å‹•çš„ã«å…¥ã‚Œæ›¿ãˆã‚‹ã€‚ã“ã‚ŒãŒ Fragment ã ã€‚

```mermaid
%%{init:
	{
		"theme": "forest",
		"logLevel": 2,
		"flowchart": { "curve": "linear" }
	}
}%%

flowchart TB

	Application
	MainActivity
	RecyclerView <--> Adapter
	RecyclerView --> recycler_list_view
	List[(List)]
	Item[(Item)]
	ItemDetail[("Item, Position")]
	List --> Adapter
	List -- position --> Item
	Item -- bind --> ViewHolder
	Adapter --> ItemDetail
	ItemDetail ---> fragment_item_view
	activity_main_view
	activity_main_view --- fragment_list_view
	activity_main_view --- fragment_item_view
	holder_item_view --> recycler_list_view
	ViewHolder --> holder_item_view
	BaseFragment --> ListFragment
	BaseFragment ---> ItemFragment
	ListFragment --- fragment_list_view
	ItemFragment --- fragment_item_view
	FragmentManager --> ListFragment
	FragmentManager ---> ItemFragment
	FragmentManager --- fragment_list_view
	FragmentManager --- fragment_item_view
	comment_list{{"ä¸€è¦§ç”»é¢"}}
	comment_item{{"è©³ç´°ç”»é¢"}}
	fragment_list_view --- comment_list
	fragment_item_view --- comment_item
	comment_list <--> comment_item

subgraph Application
	direction TB
	MainActivity
	List
	BaseFragment
	ListFragment
	ItemFragment
	comment_list
	comment_item
end

subgraph MainActivity
	activity_main_view
	fragment_list_view
	fragment_item_view
	RecyclerView
	Adapter
	ItemDetail
  FragmentManager
end

subgraph Adapter
  Item
	ViewHolder
	holder_item_view
end

subgraph fragment_list_view
	recycler_list_view
end

linkStyle default color:#936, stroke:#f69, stroke-width:2px;
classDef default fill:#fcc, stroke:#345, stroke-width:3px, font-size:14pt;

classDef view fill:#9ba, color:#306, font-size:14pt, stroke-width:4px;
class activity_main_view,recycler_list_view,holder_item_view,fragment_list_view,fragment_item_view view

classDef data fill:#ec3, color:#33a, font-size:12pt;
class List,Item,ItemDetail data

```

ã‹ãªã‚Šã™ã£ãã‚Šã—ãŸã‚ˆã†ã«è¦‹ãˆã‚‹ã‚‚ã®ã®ã€ã“ã‚Œã§ã‚‚å®Ÿã¯ã€ Item, Position ã¿ãŸã„ãªæƒ…å ±ã‚’ MainActivity ã«å¼•ãæ¸¡ã™ã¨ã“ã‚ã§ä¸‹æ‰‹ã‚’ã™ã‚‹ã¨é—‡ã«è½ã¡ã‚‹ã€‚

ã‚„ã£ã¦ãªã„ã®ã§æƒ³åƒã ãŒã€ãã“ã®éƒ¨åˆ†ã¾ã§ã™ã£ãã‚Šã•ã›ãŸã‘ã‚Œã°ã€ã•ã‚‰ã« Navigation ã¨ã‹ã‚’æŠ•å…¥ã™ã‚‹ã®ã‹ã€‚ã€‚ã€‚

# ğŸŒ–ï¸ æ€¥

## å‚è€ƒè³‡æ–™

### Navigation

[Navigation | App architecture | Android Developers](https://developer.android.com/guide/navigation/)

[[Android] Navigationã®åŸºç¤ã®åŸºç¤ - Qiita](https://qiita.com/t_nana/items/d3f71faefa4ec69c0ca9)

### RecyclerView

[Create dynamic lists with RecyclerView | Views | Android Developers](https://developer.android.com/develop/ui/views/layout/recyclerview)

[ã€Androidã€‘ä¸–ç•Œä¸€ã‚ã‹ã‚Šã‚„ã™ã„RecyclerViewã®å®Ÿè£…](https://zenn.dev/squ4t4r014/articles/a2cde436f4c099)

[android Kotlin RecyclerViewã®ä½¿ã„æ–¹ - Qiita](https://qiita.com/soutominamimura/items/47a48e4e6e1aff3d3396)

[Simple Android RecyclerView example](https://stackoverflow.com/questions/40584424/simple-android-recyclerview-example)

### Fragment

[Fragments | App architecture | Android Developers](https://developer.android.com/guide/fragments)

[Single activity: Why, when, and how (Android Dev Summit '18)](https://youtu.be/2k8x8V77CrU?si=1XpmSM9zAmflmjf0)

[Fragments: Past, present, and future (Android Dev Summit '19)](https://youtu.be/RS1IACnZLy4?si=pgcJZdnmEe4Qiu1R)

